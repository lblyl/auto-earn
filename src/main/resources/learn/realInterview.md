腾讯面试针对性准备：
https的解决什么问题
设计一个UDP
tcp的一些滑动机制
协程和线程的区别
GO的一些机制
KMP

threadLocal内存泄漏


调研：
加强部分：
链表，树的遍历, 
操作系统与网络, GO相关
熟练掌握HTTP/HTTPS协议，理解TCP/IP协议，并具备linux下的网络服务编程经验。
面经


concurrentHashMap 的分段锁 ，链表和红黑树解决hash冲突，红黑树的特点
synchronized和reetrankLock原理

雪花算法，时间戳+机器id+序列号.在分布式情况下，全局唯一，单机递增，缺点机器之间时间可能不同步，不能一定做到全局递增。
arthas底层使用ASM, CGLIB底层就是它实现的。JVMTI是底层调试
哈希冲突怎么解决
秒杀优化
threadLocal可能存在内存泄漏，弱引用不能彻底去除另一个强引用，要记得remove
LockSupport park可以唤起指定线程
parallelStream 内部操作线程不安全类存在风险
dubbo多种失败机制,故障转移


自我介绍：
我叫马培川、
毕业后在杭州的个推做过web开发，
17年在阿里的盒马做仓储物流的开发
19年因朋友邀请到现在是格家网络做电商库存的负责人。
业余时间喜欢写点技术博客，也学习日语。
现在由于社交电商业务发展受限希望换一份工作，找个自己喜欢的产品
个人对微视比较感兴趣，// 相比较行业第一更喜欢去行业第二的产品比较有挑战


准备问题：
具体微视哪块业务、杭州团队怎么定位？集群和tps方便透露么？最大的挑战是啥??  

腾讯面试总结
在项目中的负责了啥，
主要的技术栈，
redis的集群高可用，
如何做数据持久化，
zset的结构，
用的什么消息队列，
如何做高可用，
一个消息可以有多个分区么？
mysql的索引数据结构，
有没做过SQL优化，
mysql如何做主从，
如何binlog日志写入，
linux常见命令，
如何看网络流量的命令。
tcp的超时问题，如何防止拥堵
分布式id生成（雪花算法）

分表的id生成
Java 零拷贝技术
redis 热数据不均匀, 数据倾斜
netty 零拷贝
redis 同步的时候缓存区写满
负载均衡算法
Dubbo 粘包问题 
类型擦除问题


滴滴面试：
如何进行压测
java文件到class文件的详细过程
如何设计限流，如何时间分布不均匀避免峰值
如何进行服务降级
如何解决高并发扣减库存
还有如何做压测的数据模拟
限流框架和降级的框架实现
领域驱动的理解
流程引擎实现细节


腾讯复盘：
1. 如何保证rocketMQ消息不丢失, 不重复消费, producer的唯一标志
2. 商品库存的设计模型
3. redis音频文件缓存


快手一面：
介绍项目
限流算法、与熔断、降级区别
java锁机制，各种锁的区别
AQS实现原理
volatile 实现原理
分布式锁使用、redlock算法
写一个算法题：LC 31.

快手二面：
arthas实现
binlog同步实现
cms与G1的区别
mysql锁实现原理
hsf如何解决包冲突

字节一面：
介绍项目，业务和技术，项目中的难点，如何去解决
springboot集成包冲突怎么解决
JVM不同分区的算法区别
手写算法题：柱子节水问题

字节二面：
自我介绍
项目问题
缓存一致性
RPC设计
zk选举
脑裂问题
如何解决高并发
阿里项目介绍
算法题、最长子串 

字节三面：
自我介绍
介绍你觉得好的项目
如何做负载均衡
服务发现
一致性哈希
zk算法和高可用
mysql的锁类型
分布式事务解决，TCC实现、消耗资源
隔离级别，mvcc，串行化如何实现
短链接服务设计
DDL 小表比较慢的原因
算法题 LC 55、堆排序


三面准备：
设计一个短链接服务
最近怎么学习新技术，在学什么技术：学mysql的日志文件和changeBuffer的设计，并希望能应用在库存的写入上
之前也学习设计模式之类的，当初做表切换就用代理模式去封装双写，让上层不用修改.
自己的职业规划：
三个方面、技术上、软实力、社区 
技术上钻研一块成为专家，主要是mysql和高性能架构
3年内，技术上更加精进，独立负责核心的一块产品，学习资源分配和项目管理相关的，因此我在这边经常作为PM去主导项目，例如...达到比较好的上线节奏。
提升自己社区的影响力，回馈社区。


字节跳动（抖音）面试第一轮：
自我介绍
介绍最熟悉的项目
TCC 二阶段 三阶段 和 本地消息表 分布式事务区别
fastjson 反序列化 必须要求空构造函数问题怎么解决
Mysql的聚集和非聚集索引区别
B+树为什么要最左匹配
扣减库存接口设计 SQL编写
如何实例化一个类
多线程使用场景
jdk8新功能
如何设计本地缓存, null值需要缓存吗
forkjoin用的什么线程池
parallelStream底层线程池是什么
completeService的用途
函数编程接口哪几个
设计一个即时通讯系统
股票卖出算法题 (简单难度)


字节面试问题：
详细了解项目，
算法题目，判断回文链表
限流方案，
链表要求复杂度。
根据项目中设计场景，
链表反转，k个一组
如何设计流量回放不影响线上回放，
skiplist写入选择指针问题，
如何O(1)复杂度找到第n个数字，
如何设计一个站内消息，
延迟队列来限流. 

滴滴：
写代码，观察者模式，
前K大的数字，
有向图的是否存在环。
CAP之中 zk 保证了什么, 什么情况不可用
高并发扣库存优化
如何做限流



二面：
介绍项目
写个题目 判断是否有环
智力题  老虎吃羊
为什么char比string更适合存储密码
redis主从复制过程
设计一个微博，要求支持高并发
tcp阻塞控制方案
为什么long类型是8个字节
什么是序列化


## 系统设计题目整理
设计一个评分系统，高并发支持，能够迅速得到排名前百分比和打败的人数。
设计一个微信，可以查阅最近的消息和未读消息。
设计一个站内私信
设计一个短链接服务


# 吉利莲花汽车
自我介绍
介绍阿里的项目
dubbo相关设计
分布式事务的几种方式
mq的架构设计，分布式mq
数据库索引结构
Java锁的类型
JVM内存模型
synchronize锁的升级过程
Hashmap的实现，并发实现
redis的集群模式有哪些
分布式id生成
ES和NoSQL用过哪些，了解的如何 

# 微盟
库存如何优化的高并发？
库存高并发开始rt高？
sychronized 和 lock区别？锁升级？
AQS实现
mysql的innoDB和ISAM的索引？
为什么用B+树？
默认隔离级别？怎么实现的？
缓存击穿、雪崩、穿透?
布隆过滤器实现?
线程池使用?
redis的集群实现？数据结构？如何复制集群？
跳表结构？
商品数据怎么带活动？
怎么提升十倍？
用的设计模式?
分库与分表的区别？


# 蚂蚁
聊项目做的事和承担的责任
sychronized和volatile 
volatile如何保持可见
实现堆栈、队列
lru算法实现
sychronized锁升级
mysql的索引结构，为什么用B+
怎么做sql优化
如何做大促稳定
应急预案怎么准备
分布式事务TCC实现
LinkedHashMap


# 有赞
高并发扣减库存
nacos


事务消息的重投
sychronized 加锁的机制
为什么update解决幻读



# 面试题目准备
你在项目中的职责？了解他对于项目细节是否熟悉？
遇到最大的挑战？解决问题的思路？效果？



## 数据结构算法

p5
数组和链表区别, 哈希表作用
队列和堆区别？
HashMap实现？HashMap与hashTable区别?

p6
HashTable性能为什么差？怎么优化ConcurrentHashMap实现?
信号量实现?
CycleBarrier和CountDown区别?
ReentrantLock与sychronized区别?
线程池核心参数？如何调优?
ThreadLocal如何实现？
CAS原理？
redis的数据结构哪几种？字符串怎么实现为什么？布隆过滤器用过么？怎么实现？zset结构？
mysql索引的数据结构？为什么不用跳跃表?

p7
AQS实现
sychronized锁升级
线程池回收
volatile如何保证有序？
ThreadLocal使用需要注意什么？
LockSupport如何实现？



## Java基础
p5
范型是解决什么问题？
JVM内存结构？为什么要分代？
如何排查内存溢出?

p6
什么是反射？反射性能为什么不好？
为什么要序列化? 序列化ID用途？
内存模型？内存结构
GC算法?为什么要分代？

p7
类加载机制？什么情况下可以不遵循？
堆一定是分配在内存?
怎样提系统并发?


## 系统与框架
p5 
什么是分布式事务
如何保证系统不被打挂？
如何保证代码的提测质量？

p6
内核态与用户态区别？
IO模型？DMA?
线程与协程区别?
redis为什么高性能？
都是内存缓存为什么不用本地缓存?
怎么保证缓存数据一致性?
redis断电数据会丢失么?
继承和组合哪个方式好点？为什么？
重写破坏了什么面向对象设计原则？

rocketMQ有哪几个部分?
rocketMQ如何保证数据不丢失?可以无限扩容消费么?
rocketMQ如何保证高性能?0拷贝怎么实现?

Dubbo的IO模型?
服务降级与熔断区别?Dubbo如何实现?
mybatis的缓存？如何保证缓存失效？

zookeeper与eruka区别?谁更适合服务发现？为什么？
p7
面向对象设计原则
领域驱动设计




## mysql
mysql引擎有哪几种？默认引擎是什么？
InnoDB的索引怎么实现？为什么？
where a = 1 and b = 1 有 (a, b) (b, a)两个索引，会走哪个为什么？
如何优化慢sql?
怎么做读写分离?
日志有哪几种?
幻读怎么解决？
唯一索引与普通索引区别？
每次写入都刷磁盘？
分布式事务?


## 架构
面向对象设计原则
常见设计模式
DDD


## 系统设计
排行榜？
红包雨？
分布式id生成?
设计一个秒杀系统？
大数据去重?
求前k大个数字？

在活动前5分钟推送活动预热的消息？

###

#MQ用的什么  ->  什么场景用? -> 有没遇到什么问题? -> 怎么保证数据不丢失? -> 怎么保证高性能？ -> 用过事务消息么？-> 解决什么问题? 事务消息的实现? -> 怎么避免重复消费? -> 重试超过上限怎么办？
#库存的模型? -> 什么阶段扣库存 ？ -> 怎么保证不超卖？-> 如何解决行锁高并发扣减库存?
#Spring bean的生命周期? -> 什么是循环依赖? -> 怎么解决? -> AOP怎么实现? -> CGLIB限制？ -> CGlib这种方式对应什么设计模式？-> 代理和装饰模式的区别? -> 还用过什么设计模式?

什么是序列化 -> 
JVM内存模型 -> 锁有哪些？ -> 悲观锁和乐观锁实现? -> synchronized和volatile区别 -> 
限流和降级区别? -> 做过限流么? -> 怎么实现? 有啥区别? -> 限流算法的几种区别 ？

常用的数据结构? -> HashMap和HashTable区别? TreeMap和LinkedHashMap区别? HashMap怎么实现?  什么是加载因子? -> 为什么是0.75? -> 为什么是头插法? -> rehash过程HashMap -> 1.8头插法->尾插法? -> 1.8的实现一定是链表吗? -> 为什么用红黑树不用平衡二叉树?

你们是查看的线上日志？-> 怎么检索？-> 分布式下怎么查询链路? -> 监控耗时? -> 怎么透传?

MySQL的锁有哪些 -> 间隙锁是解决什么问题? -> 数据库是怎么做事务回滚? -> DDL很慢大概是什么原因?

接口的qps和rt怎么统计的? rt接口突然升高怎么解决？



建议：
简历最好多拿案例、多列数据指标。
工人下班的时候，对工作量进行反馈？用户量增长？

800ms->60ms?
频繁更新？桶排思想？rockmq
zset排行榜实现？-> 
bitmap实现已读。

内存的泄漏问题排查?
where b= 1 AND a=2错误？
间隙锁?
mysql的快照读和当前读？
表锁和行锁? 
Spring启动配置，nacos

你自己的期望?

高并发消息的推送问题?
Java基本还是比较欠缺. 线上问题的解决?





